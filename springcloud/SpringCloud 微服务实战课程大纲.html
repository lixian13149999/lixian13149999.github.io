<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第一章 课程介绍 | Summer&#39;s blog</title>
    <meta name="description" content="Make this world a better place.">
    <link rel="icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.185a2026.css" as="style"><link rel="preload" href="/assets/js/app.b695821b.js" as="script"><link rel="preload" href="/assets/js/27.62dc372f.js" as="script"><link rel="prefetch" href="/assets/js/10.17745ebd.js"><link rel="prefetch" href="/assets/js/11.5645ee9a.js"><link rel="prefetch" href="/assets/js/12.395b2bf2.js"><link rel="prefetch" href="/assets/js/13.18252a63.js"><link rel="prefetch" href="/assets/js/14.61525ab5.js"><link rel="prefetch" href="/assets/js/15.52ed0127.js"><link rel="prefetch" href="/assets/js/16.63b7e756.js"><link rel="prefetch" href="/assets/js/17.4e01226f.js"><link rel="prefetch" href="/assets/js/18.5cd53c0d.js"><link rel="prefetch" href="/assets/js/19.46bc3fa8.js"><link rel="prefetch" href="/assets/js/20.01208775.js"><link rel="prefetch" href="/assets/js/21.6e21173b.js"><link rel="prefetch" href="/assets/js/22.2d7787ae.js"><link rel="prefetch" href="/assets/js/23.7e7a1388.js"><link rel="prefetch" href="/assets/js/24.1c06ca31.js"><link rel="prefetch" href="/assets/js/25.782d0acb.js"><link rel="prefetch" href="/assets/js/26.59ad7633.js"><link rel="prefetch" href="/assets/js/28.54aca11a.js"><link rel="prefetch" href="/assets/js/29.69a5f791.js"><link rel="prefetch" href="/assets/js/3.c805a3c1.js"><link rel="prefetch" href="/assets/js/30.c2c9829c.js"><link rel="prefetch" href="/assets/js/31.c8e338e9.js"><link rel="prefetch" href="/assets/js/32.0406beb2.js"><link rel="prefetch" href="/assets/js/33.e209690e.js"><link rel="prefetch" href="/assets/js/34.75c09e24.js"><link rel="prefetch" href="/assets/js/35.d077c8f5.js"><link rel="prefetch" href="/assets/js/36.0eafb227.js"><link rel="prefetch" href="/assets/js/37.08f12dfc.js"><link rel="prefetch" href="/assets/js/38.ba7cfe50.js"><link rel="prefetch" href="/assets/js/4.f47ff399.js"><link rel="prefetch" href="/assets/js/5.453c3a8d.js"><link rel="prefetch" href="/assets/js/6.4cee89cf.js"><link rel="prefetch" href="/assets/js/7.bed2d7de.js"><link rel="prefetch" href="/assets/js/8.d9847ac4.js"><link rel="prefetch" href="/assets/js/9.a0712f1c.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.26116af7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.185a2026.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Summer's blog" class="logo"> <span class="site-name can-hide">Summer's blog</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Categories</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/frontEnd.html" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/categories/backEnd.html" class="nav-link">后台</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://gitee.com/springstart" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Categories</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/frontEnd.html" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/categories/backEnd.html" class="nav-link">后台</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link">Tags</a></div><div class="nav-item"><a href="https://gitee.com/springstart" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>第一章 课程介绍</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#导学" class="sidebar-link">导学</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#spring-springboot-springcloud-微服务-的关系" class="sidebar-link">Spring, SpringBoot, SpringCloud, 微服务 的关系</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#技术储备" class="sidebar-link">技术储备</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#课程重点" class="sidebar-link">课程重点</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#主要内容" class="sidebar-link">主要内容</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#微服务和其他常见架构" class="sidebar-link">微服务和其他常见架构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#微服务的提出" class="sidebar-link">微服务的提出</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#服务技术的演进" class="sidebar-link">服务技术的演进</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#从一个极简的微服务框架开始" class="sidebar-link">从一个极简的微服务框架开始</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#简介" class="sidebar-link">简介</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#注册中心-eureka-server" class="sidebar-link">注册中心 Eureka Server</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#springcloud-和-springboot-对应的关系" class="sidebar-link">SpringCloud 和 SpringBoot 对应的关系</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#eureka-client" class="sidebar-link">Eureka Client</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#实现-eureka-的高可用" class="sidebar-link">实现 Eureka 的高可用</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#服务注册中心的原理和地位" class="sidebar-link">服务注册中心的原理和地位</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#客户端发现" class="sidebar-link">客户端发现</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#服务端发现" class="sidebar-link">服务端发现</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#异构" class="sidebar-link">异构</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#业务拆分的起点和终点" class="sidebar-link">业务拆分的起点和终点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#业务形态不适合做微服的项目" class="sidebar-link">业务形态不适合做微服的项目</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#康威定律和微服务" class="sidebar-link">康威定律和微服务</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#点餐业务的服务拆分" class="sidebar-link">点餐业务的服务拆分</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#服务的拆分方式" class="sidebar-link">服务的拆分方式</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#服务拆分方法论" class="sidebar-link">服务拆分方法论</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#商品服务业务编码" class="sidebar-link">商品服务业务编码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#技术点" class="sidebar-link">技术点</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#订单服务编码" class="sidebar-link">订单服务编码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#技术点-2" class="sidebar-link">技术点</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#拆数据" class="sidebar-link">拆数据</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#http-vs-rpc" class="sidebar-link">HTTP vs RPC</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#resttemplate-的三种调用方式" class="sidebar-link">RestTemplate 的三种调用方式</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#负债均衡器-ribbon" class="sidebar-link">负债均衡器 Ribbon</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#ribbon-实现负载均衡的核心" class="sidebar-link">Ribbon 实现负载均衡的核心</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#主要组件" class="sidebar-link">主要组件</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#ribbon-选择服务的规则" class="sidebar-link">Ribbon 选择服务的规则</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#feign-的使用" class="sidebar-link">Feign 的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#feign-介绍" class="sidebar-link">Feign 介绍</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#项目改造成多模块" class="sidebar-link">项目改造成多模块</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#同步-or-异步" class="sidebar-link">同步 or 异步</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#消息中间件" class="sidebar-link">消息中间件</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#配置中心概述" class="sidebar-link">配置中心概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#为什么需要统一配置中心" class="sidebar-link">为什么需要统一配置中心?</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#实现的架构" class="sidebar-link">实现的架构</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#编码-测试" class="sidebar-link">编码 &amp; 测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#server-端开发" class="sidebar-link">Server 端开发</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#client-端开发" class="sidebar-link">Client 端开发</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#springcloud-bus-自动更新配置" class="sidebar-link">SpringCloud Bus 自动更新配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#原理" class="sidebar-link">原理</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#编码-测试-2" class="sidebar-link">编码 &amp; 测试</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#异步和消息" class="sidebar-link">异步和消息</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#异步的常见形态" class="sidebar-link">异步的常见形态</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#mq-应用场景" class="sidebar-link">MQ 应用场景</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#rabbitmq-的简单使用" class="sidebar-link">RabbitMQ 的简单使用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#springcloud-stream-的使用" class="sidebar-link">SpringCloud Stream 的使用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#订单中业务使用-mq" class="sidebar-link">订单中业务使用 MQ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#异步扣库存" class="sidebar-link">异步扣库存</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#服务网关和-zuul" class="sidebar-link">服务网关和 Zuul</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#为什么需要服务网关" class="sidebar-link">为什么需要服务网关</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#服务网观的要素" class="sidebar-link">服务网观的要素</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#常见的网关方案" class="sidebar-link">常见的网关方案</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#四种过滤器" class="sidebar-link">四种过滤器</a></li><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#架构图" class="sidebar-link">架构图</a></li></ul></li><li><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#路由转发-排除和自定义" class="sidebar-link">路由转发, 排除和自定义</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/springcloud/SpringCloud%20%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%AE%9E%E6%88%98%E8%AF%BE%E7%A8%8B%E5%A4%A7%E7%BA%B2.html#创建路由" class="sidebar-link">创建路由</a></li></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="第一章-课程介绍"><a href="#第一章-课程介绍" aria-hidden="true" class="header-anchor">#</a> 第一章 课程介绍</h1> <h2 id="导学"><a href="#导学" aria-hidden="true" class="header-anchor">#</a> 导学</h2> <h3 id="spring-springboot-springcloud-微服务-的关系"><a href="#spring-springboot-springcloud-微服务-的关系" aria-hidden="true" class="header-anchor">#</a> Spring, SpringBoot, SpringCloud, 微服务 的关系</h3> <p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fq1vezxsyej30u30gvjw3.jpg" alt></p> <h3 id="技术储备"><a href="#技术储备" aria-hidden="true" class="header-anchor">#</a> 技术储备</h3> <ul><li>SpringBoot 的基础知识数量账务</li> <li>对 Linux 和 Docker 的基本用法数量掌握</li></ul> <h3 id="课程重点"><a href="#课程重点" aria-hidden="true" class="header-anchor">#</a> 课程重点</h3> <p>SpringCloud 构建</p> <p>微服务改造探讨</p> <h3 id="主要内容"><a href="#主要内容" aria-hidden="true" class="header-anchor">#</a> 主要内容</h3> <ul><li>Eureka(服务注册) 服务注册和发现, 高可用服务注册中心</li> <li>Config(配置中心) 常规的 Server 和 Client 使用 Bus 结合RabbitMQ 实现自动刷新</li> <li>Ribbon(服务通讯) RestTemplate Feign Ribbon通讯方式</li> <li>Zuul(动态路由)</li> <li>Hystrix 熔断机制</li> <li>容器编排: Docker + Rancher</li></ul> <h1 id="第二章-微服务介绍"><a href="#第二章-微服务介绍" aria-hidden="true" class="header-anchor">#</a> 第二章 微服务介绍</h1> <h2 id="微服务和其他常见架构"><a href="#微服务和其他常见架构" aria-hidden="true" class="header-anchor">#</a> 微服务和其他常见架构</h2> <h3 id="微服务的提出"><a href="#微服务的提出" aria-hidden="true" class="header-anchor">#</a> 微服务的提出</h3> <p>James Lewis &amp; Martin Fowler 2014 年提出</p> <h4 id="微服务介绍"><a href="#微服务介绍" aria-hidden="true" class="header-anchor">#</a> 微服务介绍</h4> <p><strong>微服务是一种架构风格</strong></p> <h4 id="微服务的特点"><a href="#微服务的特点" aria-hidden="true" class="header-anchor">#</a> 微服务的特点</h4> <ul><li>一系列微小的服务共同组成</li> <li>跑在自己的进程里</li> <li>每个服务为独立的业务开发</li> <li>独立部署</li> <li>分布式的管理</li></ul> <h3 id="服务技术的演进"><a href="#服务技术的演进" aria-hidden="true" class="header-anchor">#</a> 服务技术的演进</h3> <p>单一应用架构(ORM) -&gt; 垂直应用架构(MVC) -&gt; 分布式服务架构(RPC) -&gt; 流动计算架构(SOA)</p> <h4 id="单体架构"><a href="#单体架构" aria-hidden="true" class="header-anchor">#</a> 单体架构</h4> <p><strong>优点</strong></p> <ol><li>容易测试</li> <li>容易部署</li></ol> <p><strong>缺点</strong></p> <ol><li>开发效率低</li> <li>代码维护困难</li> <li>部署不灵活(构建时间长)</li> <li>稳定性不高</li> <li>扩展性不够(高并发和)</li></ol> <h4 id="分布式架构"><a href="#分布式架构" aria-hidden="true" class="header-anchor">#</a> 分布式架构</h4> <p>旨在支持应用程序和服务的开发, 可以利用物理架构, 由多个<strong>自治的处理元素</strong>, 不共享主内存, 但<strong>通过网络发送消息</strong>合作.</p> <p>— Leslie Lamport</p> <h2 id="从一个极简的微服务框架开始"><a href="#从一个极简的微服务框架开始" aria-hidden="true" class="header-anchor">#</a> 从一个极简的微服务框架开始</h2> <p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fq1wbaxyw4j30pw0h9guf.jpg" alt></p> <h4 id="微服务架构的基础框架-组件"><a href="#微服务架构的基础框架-组件" aria-hidden="true" class="header-anchor">#</a> 微服务架构的基础框架/组件</h4> <ul><li>服务注册发现</li> <li>服务网关</li> <li>后端通用服务</li> <li>前端服务</li></ul> <h4 id="我服务的实现方式-两大配方"><a href="#我服务的实现方式-两大配方" aria-hidden="true" class="header-anchor">#</a> 我服务的实现方式(两大配方)</h4> <p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fq1wvp7bwvj30vv0gpq60.jpg" alt></p> <h4 id="springcloud-是什么"><a href="#springcloud-是什么" aria-hidden="true" class="header-anchor">#</a> SpringCloud 是什么?</h4> <p>SpringCloud 是一个开发工具, 含了多个子项目,</p> <p>-利用SpringBoot的开发便利</p> <p>-主要是基于对Netflix开源组件的进一步封装(Netflix是微服务界的翘楚)</p> <h4 id="springcloud-的作用"><a href="#springcloud-的作用" aria-hidden="true" class="header-anchor">#</a> SpringCloud 的作用</h4> <p>简化了分布式服务开发, 极大的降低了微服务开发的门槛</p> <h1 id="第三章-eureka"><a href="#第三章-eureka" aria-hidden="true" class="header-anchor">#</a> 第三章 Eureka</h1> <h2 id="简介"><a href="#简介" aria-hidden="true" class="header-anchor">#</a> 简介</h2> <ul><li>基于 Netflix Eureka 做了二次封装,</li> <li>由两个组件组成
<ul><li>Eureka Server  注册中心</li> <li>Eureka Client  注册服务</li></ul></li></ul> <h2 id="注册中心-eureka-server"><a href="#注册中心-eureka-server" aria-hidden="true" class="header-anchor">#</a> 注册中心 Eureka Server</h2> <h3 id="springcloud-和-springboot-对应的关系"><a href="#springcloud-和-springboot-对应的关系" aria-hidden="true" class="header-anchor">#</a> SpringCloud 和 SpringBoot 对应的关系</h3> <p>https://spring.io/projects —&gt; SpringCloud —&gt; 最下面的对应表格</p> <h4 id="开发"><a href="#开发" aria-hidden="true" class="header-anchor">#</a> 开发</h4> <ol><li>引入相应的 jar 包</li> <li>在启动类上添加 <code>@EnableEurekaServer</code> 表示这是一个注册中心服务的项目, 同时此注解也包含 <code>Client</code> 注解, 所以添加了 <code>@EnableEurekaServer</code> 后, 即表示当前项目即时 Server 又是 Client</li></ol> <h2 id="eureka-client"><a href="#eureka-client" aria-hidden="true" class="header-anchor">#</a> Eureka Client</h2> <p><strong>开发</strong></p> <ol><li>选择相应的 jar 包</li> <li>在启动类上添加 <code>@EnableDiscoveryClient</code> 注解</li> <li>配置注册的地址</li></ol> <h3 id="实现-eureka-的高可用"><a href="#实现-eureka-的高可用" aria-hidden="true" class="header-anchor">#</a> 实现 Eureka 的高可用</h3> <p>新开启一个或多个 Eureka 服务, 使其互相注册</p> <p>这时, 如果我们把 client 注册在其中一个 server 上时, client 会注册在其相互注册的其他 server 中. 当 client 重启后, 其他未被注册的 server 便不能再次被注册.</p> <h2 id="服务注册中心的原理和地位"><a href="#服务注册中心的原理和地位" aria-hidden="true" class="header-anchor">#</a> 服务注册中心的原理和地位</h2> <p>在分布式系统中, 服务注册中心是最重要的基础部分</p> <h3 id="客户端发现"><a href="#客户端发现" aria-hidden="true" class="header-anchor">#</a> 客户端发现</h3> <p><strong>定义</strong></p> <p>当客户端 A 需要服务 B 的服务时, 回去注册中心调用, 注册中心会吧所有 B 的地址告诉 A, 由 A 去选择调用那个 B</p> <p><strong>优点</strong></p> <p>可控性强, 对服务 B 的控制度高</p> <p><strong>缺点</strong></p> <p>需要自己实现逻辑去挑选 B</p> <p><strong>代表</strong></p> <p>Eureka</p> <h3 id="服务端发现"><a href="#服务端发现" aria-hidden="true" class="header-anchor">#</a> 服务端发现</h3> <p><strong>定义</strong></p> <p>由代理在众多可用的 B 里边挑选出一个, 让 A 去使用,</p> <p><strong>优点</strong></p> <p>不需要调用者 A 实现调用逻辑, 同时由于代理的接入, 服务提供者和注册中心对 A 是透明不可见的.</p> <p><strong>代表</strong></p> <p>Nginx</p> <p>Zookeeper</p> <p>Kubernetes</p> <h2 id="异构"><a href="#异构" aria-hidden="true" class="header-anchor">#</a> 异构</h2> <p>可以使用不同的语言不同的数据库来构建整体服务, 从这一点上, 就能比较好的理解, 为什么 SpringCloud 的调用方式选择 Http 的 restfull 接口的形式调用, 而不是像 dubbo 那样选择 RPC 的调用方式.</p> <p>由于 rest 调用的客户端实现比较简单, 其他语言实现相关的调用也很方便</p> <h1 id="第四章-服务拆分"><a href="#第四章-服务拆分" aria-hidden="true" class="header-anchor">#</a> 第四章 服务拆分</h1> <h2 id="业务拆分的起点和终点"><a href="#业务拆分的起点和终点" aria-hidden="true" class="header-anchor">#</a> 业务拆分的起点和终点</h2> <h3 id="业务形态不适合做微服的项目"><a href="#业务形态不适合做微服的项目" aria-hidden="true" class="header-anchor">#</a> 业务形态不适合做微服的项目</h3> <ul><li>系统中包含很多强事物场景</li> <li>业务相对稳定, 迭代周期长</li> <li>访问压力不大, 可用性不高</li></ul> <h2 id="康威定律和微服务"><a href="#康威定律和微服务" aria-hidden="true" class="header-anchor">#</a> 康威定律和微服务</h2> <p>任何组织在设计一套系统(广义概念上的系统)时, 所交付的设计方案在结构上都与该组织的沟通结构保持一致.</p> <blockquote><p>沟通的问题, 会影响系统的设计</p> <p>业务架构, 总是和团队内部的组织架构相匹配</p></blockquote> <h2 id="点餐业务的服务拆分"><a href="#点餐业务的服务拆分" aria-hidden="true" class="header-anchor">#</a> 点餐业务的服务拆分</h2> <h3 id="服务的拆分方式"><a href="#服务的拆分方式" aria-hidden="true" class="header-anchor">#</a> 服务的拆分方式</h3> <ol><li>根据技术栈拆分</li> <li>根据业务拆分</li></ol> <h4 id="拆分时需要考虑的因素"><a href="#拆分时需要考虑的因素" aria-hidden="true" class="header-anchor">#</a> 拆分时需要考虑的因素</h4> <ul><li>起点: 现有业务的情况, 现有项目的结构, 业务的发展预期</li> <li>团队结构: 团队人员质量, 团队人数</li> <li>沟通方式: 沟通效率和流畅度</li></ul> <h3 id="服务拆分方法论"><a href="#服务拆分方法论" aria-hidden="true" class="header-anchor">#</a> 服务拆分方法论</h3> <p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fq244yxb7kj30s10fjgpt.jpg" alt></p> <h4 id="如何拆分功能"><a href="#如何拆分功能" aria-hidden="true" class="header-anchor">#</a> 如何拆分功能</h4> <ul><li>单一职责, 松耦合, 高内聚</li> <li>关注点分离
<ul><li>按职责 (容易拆分的业务)</li> <li>按通用性 (基础组件)</li> <li>按粒度级别</li></ul></li></ul> <h4 id="服务和数据的关系"><a href="#服务和数据的关系" aria-hidden="true" class="header-anchor">#</a> 服务和数据的关系</h4> <ul><li>优先考虑业务功能, 再考虑数据</li> <li>无状态服务  (状态: 如果一个数据需要被多个服务共享才能完成一个请求, 则此数据被称为状态, 进而依赖这个状态的服务称为有状态服务, 反之称为无状态服务)</li> <li>拆分之前, 要把有状态的业务服务, 改为无状态的业务服务</li></ul> <h2 id="商品服务业务编码"><a href="#商品服务业务编码" aria-hidden="true" class="header-anchor">#</a> 商品服务业务编码</h2> <h3 id="技术点"><a href="#技术点" aria-hidden="true" class="header-anchor">#</a> 技术点</h3> <p>lombok 工具插件的使用</p> <p>ProductController 中 lambda 表达式封装集合的方法</p> <p>Junit 测试类, 继承方式的使用</p> <p>springdata jpa in 语句查询</p> <h2 id="订单服务编码"><a href="#订单服务编码" aria-hidden="true" class="header-anchor">#</a> 订单服务编码</h2> <h3 id="技术点-2"><a href="#技术点-2" aria-hidden="true" class="header-anchor">#</a> 技术点</h3> <p><code>OrderForm2OrderDTOConverter</code>  中使用 gson 进行对象的转换</p> <p>在预期可能出错的地方需要些 try catch , 此时需要抛出异常, 并记录日志</p> <h3 id="拆数据"><a href="#拆数据" aria-hidden="true" class="header-anchor">#</a> 拆数据</h3> <p><img src="https://ws1.sinaimg.cn/large/006tNbRwgy1fq28tt6lwuj30r10fyjuu.jpg" alt></p> <h1 id="第五章-应用通讯"><a href="#第五章-应用通讯" aria-hidden="true" class="header-anchor">#</a> 第五章 应用通讯</h1> <h2 id="http-vs-rpc"><a href="#http-vs-rpc" aria-hidden="true" class="header-anchor">#</a> HTTP vs RPC</h2> <p>应用间的通讯, 当前有两种方式 <code>http</code>  和 <code>rpc</code> 其代表分别为 <code>SpringCloud</code> 和 <code>dubbo</code></p> <p><strong>dubbo 的优势</strong>: 服务治理集成上非常完善, 提供了服务注册发现, 负载均衡, 路由, 还设计了面向测试开发的 moke 泛化调用的机制. 提供服务治理和监控的可视化平台.</p> <p><strong>SpringCloud 的优势</strong>: 使用 http restfull 交互, 本身轻量易用,适用性强, 跨语言, 跨平台</p> <p><strong>Dubbo 和 SpringCloud 服务对比</strong>:</p> <table><thead><tr><th></th> <th>Dubbo</th> <th>Spring Cloud</th></tr></thead> <tbody><tr><td>服务注册中心</td> <td>Zookeeper</td> <td>Spring Cloud Netflix Eureka</td></tr> <tr><td>服务调用方式</td> <td>RPC</td> <td>REST API</td></tr> <tr><td>服务网关</td> <td>无</td> <td>Spring Cloud Netflix Zuul</td></tr> <tr><td>断路器</td> <td>不完善</td> <td>Spring Cloud Netflix Hystrix</td></tr> <tr><td>分布式配置</td> <td>无</td> <td>Spring Cloud Config</td></tr> <tr><td>服务跟踪</td> <td>无</td> <td>Spring Cloud Sleuth</td></tr> <tr><td>消息总线</td> <td>无</td> <td>Spring Cloud Bus</td></tr> <tr><td>数据流</td> <td>无</td> <td>Spring Cloud Stream</td></tr> <tr><td>批量任务</td> <td>无</td> <td>Spring Cloud Task</td></tr> <tr><td>……</td> <td>……</td> <td>……</td></tr></tbody></table> <h2 id="resttemplate-的三种调用方式"><a href="#resttemplate-的三种调用方式" aria-hidden="true" class="header-anchor">#</a> RestTemplate 的三种调用方式</h2> <p>直接通过路径发起请求: 指定 ip 和端口号以及请求路径.</p> <p>详情请见 order Controller 中的 ClientController</p> <h2 id="负债均衡器-ribbon"><a href="#负债均衡器-ribbon" aria-hidden="true" class="header-anchor">#</a> 负债均衡器 Ribbon</h2> <p>RestTemplate, Feign, Zuul 都使用了 Ribbon 的负载均衡</p> <h3 id="ribbon-实现负载均衡的核心"><a href="#ribbon-实现负载均衡的核心" aria-hidden="true" class="header-anchor">#</a> Ribbon 实现负载均衡的核心</h3> <ul><li>服务发现:  依据服务的名字, 把该服务下所有的事例均找出来</li> <li>服务选择规则:  如何选择</li> <li>服务监听: 检测失效的服务</li></ul> <h3 id="主要组件"><a href="#主要组件" aria-hidden="true" class="header-anchor">#</a> 主要组件</h3> <p>ServerList</p> <p>IRule</p> <p>ServerListFilter</p> <p>通过 ServerList 获取所有的可用列表 通过 ServerListFilter 过滤掉一部分地址,  通过 IRule选择一个实例, 作为最终实例结果</p> <h3 id="ribbon-选择服务的规则"><a href="#ribbon-选择服务的规则" aria-hidden="true" class="header-anchor">#</a> Ribbon 选择服务的规则</h3> <p>默认获取服务的规则是轮询, 可以在客户端通过配置改变相应的规则</p> <div class="language-yml line-numbers-mode"><pre class="language-text"><code># 修改获取服务的方式, 默认是轮询
# 服务的名称(可自己定义)
PRODUCT:
  # ribbon 获取服务
  ribbon:
    # 获取富的方式的类
    NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="feign-的使用"><a href="#feign-的使用" aria-hidden="true" class="header-anchor">#</a> Feign 的使用</h2> <ul><li>调用方添加依赖</li> <li>调用方启动主类上添加注解 <code>EnableFeignClients</code></li> <li>定义好需要调用的接口</li></ul> <h3 id="feign-介绍"><a href="#feign-介绍" aria-hidden="true" class="header-anchor">#</a> Feign 介绍</h3> <ul><li>声明式 REST 客户端 (伪 RPC)</li> <li>采用了基于接口的注解</li> <li>内部也使用了 Ribbon 做负载均衡</li></ul> <p>使用时的注意点:</p> <ul><li><p>路径, 一定要是完整的全路径</p></li> <li><p>当传递参数时使用了 @RequestBody 注解, 则需要使用 POST 请求</p> <blockquote><p>无参,  @RequestParam 传递单个参数, @PathVariable 路径的方式传递参数时, 才可以使用 Get 请求</p></blockquote></li></ul> <h3 id="项目改造成多模块"><a href="#项目改造成多模块" aria-hidden="true" class="header-anchor">#</a> 项目改造成多模块</h3> <p>多模块的推荐课程 : Spring Boot 2.0 深度实践-初遇Spring Boot —— 小马哥</p> <h2 id="同步-or-异步"><a href="#同步-or-异步" aria-hidden="true" class="header-anchor">#</a> 同步 or 异步</h2> <h3 id="消息中间件"><a href="#消息中间件" aria-hidden="true" class="header-anchor">#</a> 消息中间件</h3> <p>消息中间件推荐课程: Java 消息中间件</p> <h1 id="第六章-统一配置中心"><a href="#第六章-统一配置中心" aria-hidden="true" class="header-anchor">#</a> 第六章 统一配置中心</h1> <h2 id="配置中心概述"><a href="#配置中心概述" aria-hidden="true" class="header-anchor">#</a> 配置中心概述</h2> <h3 id="为什么需要统一配置中心"><a href="#为什么需要统一配置中心" aria-hidden="true" class="header-anchor">#</a> 为什么需要统一配置中心?</h3> <p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fq6952h6swj31aa0xk0zp.jpg" alt></p> <h3 id="实现的架构"><a href="#实现的架构" aria-hidden="true" class="header-anchor">#</a> 实现的架构</h3> <p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fq6972bhr2j31ia0wsaij.jpg" alt></p> <h2 id="编码-测试"><a href="#编码-测试" aria-hidden="true" class="header-anchor">#</a> 编码 &amp; 测试</h2> <h3 id="server-端开发"><a href="#server-端开发" aria-hidden="true" class="header-anchor">#</a> Server 端开发</h3> <ul><li>创建 <code>SpringBoot</code> 项目
<ul><li>添加 <code>eureka</code> 客户端相关 <code>jar</code> 包: 作为 <code>SpringCloud</code> 项目的一个服务项目</li> <li>添加 <code>config server</code> 相关 <code>jar</code> 包: 是 <code>SpringCloud</code> 的 <code>config</code>  服务端</li> <li>在启动类上添加  <code>@EnableConfigServer</code> 注解: 标明当前项目是 <code>Config</code> 的 <code>Server</code> 项目</li> <li>在 <code>yml</code> 文件中配置注册中心, 配置 <code>config</code> 文件的 <code>git</code> 厂库地址( 注: http路径, 并非 <code>git clone</code> 地址)</li></ul></li> <li>维护配置文件
<ul><li>创建配置文件项目: 项目中写入所需的配置文件</li></ul></li> <li>测试方式
<ul><li>直接请求 <code>Config Server</code> 的 <code>服务地址[:端口] 相关的配置文件的全称</code>, 若能看到配置文件的内容, 说明测试成功</li> <li>请求路径解释: <code>/{label}/{name}-{profiles}.yml</code> <ul><li>name: 文件的名称</li> <li>profiles: 环境</li> <li>label: 分支</li></ul></li> <li>注意: 文件名称的结构是 <code>文件名-profiles.yml/json/properties</code> 格式可以自动转换</li></ul></li></ul> <h3 id="client-端开发"><a href="#client-端开发" aria-hidden="true" class="header-anchor">#</a> Client 端开发</h3> <ul><li><p>引入注解</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-config-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>在 <code>.yml</code> 文件中添加相应的配置信息.</p></li> <li><p>修改 <code>application.yml</code> 为 <code>bootstrap.yml</code> .</p></li> <li><p>注意:</p> <ul><li>统一注册中心等前置配置, 需要写在本地</li> <li>客户端在加载时如果想要获取的是 <code>{name}-{profiles}.yml</code>  服务器在返回数据的时候会联同 <code>{name}.yml</code> 文件一同返回,</li></ul></li></ul> <h2 id="springcloud-bus-自动更新配置"><a href="#springcloud-bus-自动更新配置" aria-hidden="true" class="header-anchor">#</a> SpringCloud Bus 自动更新配置</h2> <h3 id="原理"><a href="#原理" aria-hidden="true" class="header-anchor">#</a> 原理</h3> <p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fq6hygf8dcj31kw0xpan2.jpg" alt></p> <ul><li>准备远端 <code>git</code> 项目, 用于提供配置资源</li> <li><code>config-server</code> 用于配置的调度,
<ul><li>从远端获取配置内容存储到本地,</li> <li>从本地获取配置内容</li> <li>发送配置信息给统一配置的客户端</li> <li>发送 MQ 消息给客户端, 让客户端调用新的配置文件</li></ul></li> <li>本地 <code>git</code> 在没有网络的时候, 用于保证项目正常运行的缓存配置内容</li> <li>消息队列: 用于配置中心的 <code>server</code> 端和 <code>client</code> 端的通讯</li></ul> <h3 id="编码-测试-2"><a href="#编码-测试-2" aria-hidden="true" class="header-anchor">#</a> 编码 &amp; 测试</h3> <h4 id="config-server-编码"><a href="#config-server-编码" aria-hidden="true" class="header-anchor">#</a> Config Server 编码</h4> <p>添加相关 <code>jar</code></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-bus-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--springcloud 2.0 正式版中没有提供 monitor 的相关接口--&gt;</span>
<span class="token comment">&lt;!--ps: 此接口用于 git 的 webhooke 调用, 用于通知 config server 发送消息给客户端,--&gt;</span>
<span class="token comment">&lt;!--以实现配置的自动刷新--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-config-monitor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>添加后启动项目, 会发现 RabbitMQ 中会自动添加一个队列</p> <blockquote><p>如果 RabbitMQ 有密码, 需要配置相关的密码</p></blockquote> <p>在 <code>config server</code> 启动类上添加注解 <code>@EnableConfigServer</code></p> <h4 id="config-client-编码"><a href="#config-client-编码" aria-hidden="true" class="header-anchor">#</a> Config Client 编码</h4> <p>添加相关的 <code>jar</code></p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-bus-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>不需要添加其他注解</p> <h4 id="刷新配置"><a href="#刷新配置" aria-hidden="true" class="header-anchor">#</a> 刷新配置</h4> <p>访问 <code>config</code> 的地址 <code>/actuator/bus-refresh</code> 即可完成刷新.</p> <p>同时, 如果想要 config 客户端起效果, 还需要在对应的配置文件的类上添加 <code>@RefreshScope</code> 注解.</p> <p>例如:</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">/**
 * @author summer
 * @date 2018/4/9 下午6:18
 */</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span><span class="token string">&quot;girl&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RefreshScope</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GirlConfig</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> String name<span class="token punctuation">;</span>

    <span class="token keyword">private</span> Integer age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="git-自动刷新配置"><a href="#git-自动刷新配置" aria-hidden="true" class="header-anchor">#</a> git 自动刷新配置</h4> <p>如果想使用 <code>git</code> 刷新配置, 则需要用到 <code>git</code> 的 <code>Webhooks</code> 功能. SringCloud 提供给 <code>git Webhook</code> 的地址是 <code>/monitor</code></p> <h1 id="第七章-消息和异步"><a href="#第七章-消息和异步" aria-hidden="true" class="header-anchor">#</a> 第七章 消息和异步</h1> <h2 id="异步和消息"><a href="#异步和消息" aria-hidden="true" class="header-anchor">#</a> 异步和消息</h2> <h3 id="异步的常见形态"><a href="#异步的常见形态" aria-hidden="true" class="header-anchor">#</a> 异步的常见形态</h3> <ul><li>通知: 单项请求</li> <li>请求/异步相应: 客户端调用服务端, 服务端不会立刻相应, 默认相应不会立刻送达</li> <li>消息: 可实现一对多的模式</li></ul> <h3 id="mq-应用场景"><a href="#mq-应用场景" aria-hidden="true" class="header-anchor">#</a> MQ 应用场景</h3> <ul><li>异步处理</li> <li>流量削峰</li> <li>日志处理  代表者 kafka</li> <li>应用解耦</li></ul> <h2 id="rabbitmq-的简单使用"><a href="#rabbitmq-的简单使用" aria-hidden="true" class="header-anchor">#</a> RabbitMQ 的简单使用</h2> <p>Rabbit 使用, 此内容会分成专题去讲, 此处就不展开了</p> <h2 id="springcloud-stream-的使用"><a href="#springcloud-stream-的使用" aria-hidden="true" class="header-anchor">#</a> SpringCloud Stream 的使用</h2> <p>添加相关 <code>jar</code> 文件</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-stream-rabbit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fq7j3k5yfej31940uy47e.jpg" alt></p> <h2 id="订单中业务使用-mq"><a href="#订单中业务使用-mq" aria-hidden="true" class="header-anchor">#</a> 订单中业务使用 MQ</h2> <p>注意点: 发送 MQ 消息时一定不能再可能出现异常的事物过程中发送, 因为多条处理的时候, 可能上面的操作成功了, 这时我们发送了消息, 但是下面的操作又失败了, 这时数据库是不会受到影响的, 但是 消息已经发出了, 就会导致出现数据错误的问题.</p> <h2 id="异步扣库存"><a href="#异步扣库存" aria-hidden="true" class="header-anchor">#</a> 异步扣库存</h2> <p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fq804yh340j31kw0yc4a9.jpg" alt></p> <blockquote><p>// TODO</p></blockquote> <p>异步扣库存的分析有必要多看两遍</p> <h1 id="第八章-服务网关"><a href="#第八章-服务网关" aria-hidden="true" class="header-anchor">#</a> 第八章 服务网关</h1> <h2 id="服务网关和-zuul"><a href="#服务网关和-zuul" aria-hidden="true" class="header-anchor">#</a> 服务网关和 Zuul</h2> <h3 id="为什么需要服务网关"><a href="#为什么需要服务网关" aria-hidden="true" class="header-anchor">#</a> 为什么需要服务网关</h3> <p><img src="https://ws1.sinaimg.cn/large/006tKfTcly1ftjnghv5c8j31kw0v0qgg.jpg" alt></p> <h3 id="服务网观的要素"><a href="#服务网观的要素" aria-hidden="true" class="header-anchor">#</a> 服务网观的要素</h3> <ul><li>稳定性, 高可用</li> <li>性能, 并发性</li> <li>安全性</li> <li>扩展性</li></ul> <h3 id="常见的网关方案"><a href="#常见的网关方案" aria-hidden="true" class="header-anchor">#</a> 常见的网关方案</h3> <ul><li>Nginx + Lua</li> <li>Kong(收费) 基于 Nginx + Lua</li> <li>Tyk go语言开发</li> <li>SpringCloud Zuul 第一代, 性能不占优势</li></ul> <h3 id="四种过滤器"><a href="#四种过滤器" aria-hidden="true" class="header-anchor">#</a> 四种过滤器</h3> <p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fq8nn1ssn5j30r60elgnx.jpg" alt></p> <h3 id="架构图"><a href="#架构图" aria-hidden="true" class="header-anchor">#</a> 架构图</h3> <p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fq8no0ss90j30oa0ho7c8.jpg" alt></p> <p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fq8nolno6gj30rx0hn42i.jpg" alt></p> <h2 id="路由转发-排除和自定义"><a href="#路由转发-排除和自定义" aria-hidden="true" class="header-anchor">#</a> 路由转发, 排除和自定义</h2> <h3 id="创建路由"><a href="#创建路由" aria-hidden="true" class="header-anchor">#</a> 创建路由</h3> <p>创建项目</p> <p>加入相关 jar</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-zuul<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>编写配置文件</p> <div class="language-yml line-numbers-mode"><pre class="language-text"><code>spring:
  application:
    # 设置请求的文件名称(即当前项目名称)
    name: api-gateway
  cloud:
    config:
      discovery:
        # 开启配置
        enabled: true
        # 设置配置服务的名称
        service-id: CONFIG

      # 在此设置环境
      profile: dev

#因为启动时会先找注册中心, 通过主持中心才能找到 Config , 所以,注册中心的地址需要再本地配置
eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>开启路由转发</p> <p>在 <code>Application</code> 主类上添加 <code>@EnableZuulProxy</code> 注解</p> <p>开启服务, 访问 <code>网关地址[:端口] / 服务id / 服务地址</code>,</p> <p>例如: <code>http://localhost:8120/product/product/list</code></p> <p>一直到端口, 都是网管地址</p> <p>第一个 <code>product</code> 是 product 服务的 id</p> <p>第二个 <code>product</code> 是路径中的内容</p></div> <!----> <div id="valine" data-v-1884cf5c></div> <!----> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.b695821b.js" defer></script><script src="/assets/js/27.62dc372f.js" defer></script>
  </body>
</html>
